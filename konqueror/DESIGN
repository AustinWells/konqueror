Konqueror Design Document

Author:
  David Faure, faure@kde.org

Last modified: 16 June 2000

Overall design of konqueror :
=============================

The design of konqueror is based on the KParts part/mainwindow mechanism
(basically, konqueror can embed several parts, putting each one inside a view :
icon views, tree views, html views...)

The main(), including all the startup mechanism is in konq_main.*

The main window contains several "views", in order to show several URLs
at once, possibly using several modes. Each view is a KonqView.
The KonqView contains the child part, which can be :
- an icon view (KonqIconView)
- a list view / tree view (KonqListView/KonqTreeView)
- an HTML view (KHTMLPart)
- any other ReadOnlyPart with or without Browserextension

Where to find those classes
===========================

konq_run.* : Re-implementation of KRun (see libkio) for konqueror.
	   Responsible for finding appropriate view<->mimetype bindings.
konq_view.* : KonqView, class used by KonqMainView to handle child views
konq_frame.* : KonqFrame and KonqFrameHeader (handles view-statusbar).
konq_main.* : The main()
konq_mainwindow.* : KonqMainWindow, the main window :)
konq_viewmgr.*: View manager. Handles view creation, activation, splitters etc.
iconview/* : KonqIconView, for icon views
listview/* : KonqTreeView, KonqListView...
dirtree/*  : KonqDirTree, the directory tree

Libs used by konqueror
======================

kdecore, kdeui, kfile, khtml, kparts - usual stuff :)
libkio - I/O stuff, mimetypes, services
libkonq - bookmarks, properties dialog, templates ("new") menu, icon view widget

How konqueror opens URLs
========================

KonqMainWindow:

  openFilteredURL or slotOpenURLRequest
                    |
                    |
            -----openURL----
             |   |        |
             |   |        |
             |  KonqRun  KRun
             |   |
             |   |
           openView
               |   \----- splitView to create a new one
KonqView:      |
         changeViewMode
               |
       [switchView if different mode required]
               |
          openURL  [emits openURLEvent (after calling openURL)]
Part:          |
               |
          openURL [emits started, progress info, completed]
              ...
